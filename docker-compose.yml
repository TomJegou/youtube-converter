services:
  api:
    image: tomyj/youtube-converter-backend
    build:
      context: ./youtube-converter-backend
      dockerfile: api.Dockerfile
    networks:
      youtube-converter-network:
        aliases:
          - api
    volumes:
      - type: bind
        source: ./youtube-converter-backend/downloads
        target: /app/downloads

  front:
    image: tomyj/youtube-converter-frontend
    build:
      context: ./youtube-converter-frontend
      dockerfile: front.Dockerfile
    networks:
      youtube-converter-network:
        aliases:
          - front
    ports:
      - "80:80"

networks:
  youtube-converter-network:
    driver: bridge